#include <stdio.h>
#include "deque.h"
int main()
{
int N,ctr,val,query;
scanf("%d",&N);
for(ctr=1;ctr<=N;ctr++){
    scanf("%d",&query);
    switch(query){
        case 1:
        scanf("%d",&val);
        addFirst(val);
        break;
        case 2:
        scanf("%d",&val);
        addLast(val);
        break;
        case 3:
        pollFirst(val);
        break;
        case 4:
        pollLast(val);
        break;
    }
}
    for(int index=0; index < getSize(); index++)
    {
        printf("%d ", deque[index]);
    }
    }
